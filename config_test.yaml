# Test Configuration - Quick 1 epoch run on CPU
# Use this to verify everything works before GPU training

data:
  semantickitti_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed"
  synlidar_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed"
  output_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed"
  
# Sensor parameters (same as full config)
sensor:
  n_rings: 64
  n_azimuth: 512  # REDUCED from 1024 for faster testing
  fov_up: 3.0
  fov_down: -25.0
  max_range: 80.0
  min_range: 0.5
  
# Range view channels
channels:
  input: ["range", "intensity", "mask"]
  output: ["range", "intensity", "mask"]
  
# Model architecture - SMALLER for CPU
model:
  type: "unet"
  in_channels: 4
  out_channels: 3
  base_channels: 16  # REDUCED from 64 for faster testing
  channel_multipliers: [1, 2, 4]  # REDUCED from [1, 2, 4, 8]
  num_res_blocks: 1  # REDUCED from 2
  attention_resolutions: []  # DISABLED for faster testing
  dropout: 0.1
  use_circular_padding: true
  
# Diffusion parameters (not used in test)
diffusion:
  timesteps: 100
  beta_schedule: "linear"
  beta_start: 0.0001
  beta_end: 0.02
  sampling_steps: 10
  cfg_scale: 1.0
  
# Training - MINIMAL for quick test
training:
  batch_size: 2  # VERY SMALL for CPU
  num_epochs: 1  # JUST 1 EPOCH FOR TESTING
  learning_rate: 0.0002
  weight_decay: 0.0001
  lr_scheduler: "cosine"
  warmup_epochs: 0
  gradient_clip: 1.0
  mixed_precision: false  # DISABLED for CPU
  num_workers: 2  # REDUCED from 8
  save_interval: 1
  eval_interval: 1
  log_interval: 5  # Log more frequently
  
# Data augmentation
augmentation:
  use_calibration: false  # DISABLED for faster testing
  dropout_prob: 0.1
  intensity_noise_std: 0.05
  range_noise_std: 0.02
  ring_dropout_prob: 0.05
  
# Loss weights
loss:
  l1_weight: 1.0
  l2_weight: 0.0
  perceptual_weight: 0.0  # DISABLED for faster testing
  adversarial_weight: 0.0
  
# Evaluation
evaluation:
  batch_size: 4
  num_samples: 10  # VERY SMALL for testing
  metrics: ["frid", "fpd", "mmd"]
  
# Downstream segmentation
segmentation:
  num_classes: 19
  model: "rangenet"
  learning_rate: 0.001
  num_epochs: 5
  
# Compute
compute:
  gpu: "cpu"  # CPU MODE
  timeout: 3600
  retries: 2

