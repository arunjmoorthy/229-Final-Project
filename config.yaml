# LiDAR Sim2Real Configuration

# Dataset paths
# For local training, use these paths:
# For Modal training, these will be overridden to /data/...
data:
  semantickitti_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed"
  synlidar_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed"
  carla_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/raw/CARLA"
  output_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed"
  nuscenes_raw_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/raw/nuscenes"
  nuscenes_npz_root: "/Users/arunmoorthy/Junior Year/CS 229/Final Project/data/processed/nuscenes_mini"
  
# Sensor parameters (Velodyne HDL-64E for SemanticKITTI)
sensor:
  n_rings: 64
  n_azimuth: 512  # Matching nuScenes resolution
  fov_up: 3.0  # degrees
  fov_down: -25.0  # degrees
  max_range: 80.0  # meters
  min_range: 0.5
  
# Range view channels
channels:
  input: ["range", "intensity", "mask"]
  output: ["range", "intensity", "mask"]
  
# Model architecture
model:
  type: "unet"  # or "diffusion"
  in_channels: 4  # range, intensity, mask, beam_angle
  out_channels: 3  # range, intensity, mask
  base_channels: 64
  channel_multipliers: [1, 2, 4, 8]
  num_res_blocks: 2
  attention_resolutions: [16, 8]
  dropout: 0.1
  use_circular_padding: true
  
# Diffusion parameters
diffusion:
  timesteps: 1000
  beta_schedule: "linear"
  beta_start: 0.0001
  beta_end: 0.02
  sampling_steps: 50
  cfg_scale: 3.0  # classifier-free guidance
  
# Training
training:
  batch_size: 8
  num_epochs: 2
  learning_rate: 0.0002
  weight_decay: 0.0001
  lr_scheduler: "cosine"
  warmup_epochs: 5
  gradient_clip: 1.0
  mixed_precision: true
  num_workers: 8
  save_interval: 5
  eval_interval: 1
  log_interval: 100
  
# Data augmentation
augmentation:
  use_calibration: true
  dropout_prob: 0.1
  intensity_noise_std: 0.05
  range_noise_std: 0.02
  ring_dropout_prob: 0.05
  
# Loss weights
loss:
  l1_weight: 1.0
  l2_weight: 0.0
  perceptual_weight: 0.1
  adversarial_weight: 0.01
  
# Evaluation
evaluation:
  batch_size: 32
  num_samples: 1000
  metrics: ["frid", "fpd", "mmd"]
  
# Downstream segmentation
segmentation:
  num_classes: 19  # SemanticKITTI
  model: "rangenet"
  learning_rate: 0.001
  num_epochs: 50
  
# Modal/Compute
compute:
  gpu: "A100"
  gpu_memory: "80GB"
  timeout: 86400  # 24 hours
  retries: 2

